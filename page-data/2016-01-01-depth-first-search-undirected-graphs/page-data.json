{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/2016-01-01-depth-first-search-undirected-graphs/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Diego Castillo"}},"markdownRemark":{"id":"b024f9c8-3d4a-53c3-a7e2-ee00e127476a","excerpt":"Chapter 3 and 4 of the book Algorithms by S. Dasgupta, C. H. Papadimitriou, and U. V. Vazirani focus on graphs. A graph is specified as a set of vertices  (orâ€¦","html":"<p>Chapter 3 and 4 of the book <a href=\"http://beust.com/algorithms.pdf\">Algorithms by S. Dasgupta, C. H. Papadimitriou, and U. V. Vazirani</a> focus on graphs. A graph is specified as a set of vertices <code class=\"language-text\">V</code> (or nodes) and edges <code class=\"language-text\">E</code> between select pairs of vertices. One of the big advantages of using graphs, is that graphs provide clarity when solving problems, since they are not cluttered with irrelevant information, just the mathematical object.</p>\n<h3>Graph Representation</h3>\n<p>A graph with <code class=\"language-text\">n=|V|</code> vertices <code class=\"language-text\">v1,...,vn</code> can be represented as a matrix (an array of <code class=\"language-text\">n x n</code>), whose <code class=\"language-text\">(i, j)th</code> entry is:</p>\n<ul>\n<li>1 if there is an edge from <code class=\"language-text\">vi</code> to <code class=\"language-text\">vj</code></li>\n<li>0 otherwise</li>\n</ul>\n<p>In a matrix representation of a graph, the presence of a particular edge can be inspected in constant time, but it requires <code class=\"language-text\">O(n^2)</code> of memory space, which can be wasteful if the graph does not have many edges. Another representation of a graph is an adjacency list. It consists of <code class=\"language-text\">|V|</code> linked lists (one per vertex). Then, the linked list for vertex <code class=\"language-text\">u</code> holds the names of vertices which <code class=\"language-text\">u</code> has and outgoing edge. In contrast to the matrix representation, verifying the presence of a particular edge is now linear (by running down the corresponding linked list), but the memory required to store the graph is <code class=\"language-text\">O(|E|)</code>.</p>\n<p>By the number of edges a graph has, it can be classified as:</p>\n<ul>\n<li>A dense graph: the number of edges is close to the maximum number of edges the graph can have</li>\n<li>A sparse graph: the number of edges is close to the minimal number of edges the graph can have</li>\n</ul>\n<p>This is important since it plays a big role when selecting a proper data structure and algorithm to use when working with graphs. For instance, for storing the World Wide Web as graph (a Web page is a vertex, and it has edges to all the other Web pages it has a hyperlink to), it is more convenient to use an adjancency list because the World Wide Web graph is very sparse (the average Web page has hyperlinks to only about half a dozen other pages, out of billions of possibilities).</p>\n<h3>Depth First Search in Undirected Graphs</h3>\n<p>The first algorithm the author examines in Chapter 3 is depth first search in undirected graphs (in a undirected graph, vertices that are connected together have bidirectional edges). Depth first search is a linear time algorithm which essentially answers the following question:</p>\n<ul>\n<li>What parts of the graph are reachable from a given vertex?</li>\n</ul>\n<p>The following implementation of the depth first search algorithm uses an adjancency list and returns all vertices of a graph which are reachable from the specified vertex.</p>\n<h3>Depth First Search Algorithm</h3>\n<h4><a href=\"https://en.wikipedia.org/wiki/Depth-first_search\">Pseudocode:</a></h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">procedure DFS(G,v):\n  label v as discovered\n  for all edges from v to w in G.adjacentEdges(v) do\n    if vertex w is not labeled as discovered then\n      recursively call DFS(G,w)</code></pre></div>\n<h4>Implementation:</h4>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">DFS</span>\n\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">initialize</span></span><span class=\"token punctuation\">(</span>graph<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">@graph</span> <span class=\"token operator\">=</span> graph\n    <span class=\"token variable\">@visited</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token comment\"># This implementation of depth-first search visits</span>\n  <span class=\"token comment\"># only the portion of the graph reachable from the</span>\n  <span class=\"token comment\"># starting vertex</span>\n  <span class=\"token comment\"># Input: A vertex element of the graph</span>\n  <span class=\"token comment\"># Output: All reachable vertices from vertex</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">dfs</span></span><span class=\"token punctuation\">(</span>vertex<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">raise</span> <span class=\"token constant\">RuntimeError</span> <span class=\"token keyword\">if</span> <span class=\"token variable\">@graph</span><span class=\"token punctuation\">[</span>vertex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">nil</span><span class=\"token operator\">?</span>\n    <span class=\"token variable\">@visited</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    explore<span class=\"token punctuation\">(</span><span class=\"token variable\">@graph</span><span class=\"token punctuation\">[</span>vertex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> vertex<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">@visited</span><span class=\"token punctuation\">.</span>keys <span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>vertex<span class=\"token punctuation\">]</span>\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token keyword\">private</span>\n\n  <span class=\"token comment\"># Find all reachable vertices from a particular vertex</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">explore</span></span><span class=\"token punctuation\">(</span>graph_of_vertex<span class=\"token punctuation\">,</span> current_vertex<span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">@visited</span><span class=\"token punctuation\">[</span>current_vertex<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    graph_of_vertex<span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>vertex<span class=\"token operator\">|</span>\n      <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> <span class=\"token variable\">@visited</span><span class=\"token punctuation\">[</span>vertex<span class=\"token punctuation\">]</span>\n        explore<span class=\"token punctuation\">(</span><span class=\"token variable\">@graph</span><span class=\"token punctuation\">[</span>vertex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> vertex<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">end</span>\n    <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h4>Tests:</h4>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">require</span> <span class=\"token string\">'minitest/autorun'</span>\n<span class=\"token keyword\">require</span> <span class=\"token string\">'./depth_first_search_undirected'</span>\n\ndescribe <span class=\"token constant\">DFS</span> <span class=\"token keyword\">do</span>\n\n  before <span class=\"token keyword\">do</span>\n    graph <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token symbol\">:a</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:b</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:e</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:b</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:a</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:c</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:d</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:g</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:h</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:d</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:h</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:c</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:e</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:j</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:i</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:f</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:g</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:c</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:h</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:k</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:h</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:d</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:l</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:c</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:g</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:k</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:i</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:e</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:j</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:j</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:e</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:i</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:k</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:g</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:h</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:l</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:h</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token variable\">@dfs</span> <span class=\"token operator\">=</span> <span class=\"token constant\">DFS</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">end</span>\n\n  describe <span class=\"token string\">\"#dfs\"</span> <span class=\"token keyword\">do</span>\n    it <span class=\"token string\">\"should return all reachable vertices from vertex 'a'\"</span> <span class=\"token keyword\">do</span>\n      assert_equal<span class=\"token punctuation\">(</span><span class=\"token variable\">@dfs</span><span class=\"token punctuation\">.</span>dfs<span class=\"token punctuation\">(</span><span class=\"token symbol\">:a</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:b</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:e</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:j</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:i</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">end</span>\n\n    it <span class=\"token string\">\"should return all reachable vertices from vertex 'c'\"</span> <span class=\"token keyword\">do</span>\n      assert_equal<span class=\"token punctuation\">(</span><span class=\"token variable\">@dfs</span><span class=\"token punctuation\">.</span>dfs<span class=\"token punctuation\">(</span><span class=\"token symbol\">:c</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:d</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:h</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:l</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:g</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:k</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">end</span>\n\n    it <span class=\"token string\">\"should return all reachable vertices from vertex 'f'\"</span> <span class=\"token keyword\">do</span>\n      assert_equal<span class=\"token punctuation\">(</span><span class=\"token variable\">@dfs</span><span class=\"token punctuation\">.</span>dfs<span class=\"token punctuation\">(</span><span class=\"token symbol\">:f</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">end</span>\n\n    it <span class=\"token string\">\"should raise an error if vertex is not defined in graph\"</span> <span class=\"token keyword\">do</span>\n      assert_raises<span class=\"token punctuation\">(</span><span class=\"token constant\">RuntimeError</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token variable\">@dfs</span><span class=\"token punctuation\">.</span>dfs<span class=\"token punctuation\">(</span><span class=\"token symbol\">:foo</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h3>Conclusion</h3>\n<p>Depth first search is an interesting algorithm, and as you might suspect, it is particularly well suited for inspecting if a graph is connected; if the tree returned by depth first search (also called the connected components of a graph) contains all vertices in the graph, it is connected, otherwise, it is not.</p>","frontmatter":{"title":"Depth First Search In Undirected Graphs","date":"January 01, 2016","description":null}},"previous":{"fields":{"slug":"/2015-12-26-fft/"},"frontmatter":{"title":"The Fast Fourier Transform Algorithm"}},"next":{"fields":{"slug":"/2016-01-18-getting-started-with-acceptance-testing/"},"frontmatter":{"title":"Getting Started With Acceptance Testing"}}},"pageContext":{"id":"b024f9c8-3d4a-53c3-a7e2-ee00e127476a","previousPostId":"7a85759c-cf3e-52b8-958d-e29a575a6635","nextPostId":"7d51198c-6f44-53d7-9676-f93f21199de4"}},
    "staticQueryHashes": ["2841359383"]}